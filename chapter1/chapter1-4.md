# 1-4 基本类型

C#中的基本类型皆为.NET中的基本类型，其有C#风格的*别名*与在.NET中使用的*全名*，两者在C#程序中可以等价使用。

在程序中使用时，文件开头有`using System;`的情况下，前缀`System.`可以省略。

在使用类型名称时（以及C#的各种位置），大小写必须正确，除非明确说明大小写等价的场合。

以下将基本类型分为几大类别，并介绍表达该类型值的方法（**字面值**）：

> 本节内容不需要完全记忆，而是在需要时查阅

## 整数

整数即为一个二进制表达的数字，分为带符号和无符号数。

|C#风格名称|.NET全名|描述|取值范围|
|-|-|-|-|
|byte|System.Byte|8位无符号整数|0~255|
|sbyte|System.SByte|8位有符号整数|-128~127|
|short|System.Int16|16位有符号整数|-32768~32767|
|ushort|System.UInt16|16位无符号整数|0~65535|
|int|System.Int32|32位有符号整数|-2147483648~2147483647|
|uint|System.UInt32|32位无符号整数|0~4294967295|
|long|System.Int64|64位有符号整数|-9223372036854775808~9223372036854775807|
|ulong|System.UInt64|64位无符号整数|0~18446744073709551615|

### 整数类型的表达

由`0~9`组成的序列即为基本数字值，其会被按照10进制进行解析。

在基本数字前加上前缀`0x`或`0X`，其会被按照16进制解析，此时`a~f`与`A~F`被加入到可用字符中，以表达16进制的10~15值。

在基本数字前加上前缀`0b`或`0B`，其会被按照2进制解析，此时可用字符仅有`0`和`1`。（在C# 7中加入）

在基本数字中可以加入下划线字符（`_`）作为分隔符，可以加在任意位置。（在C# 7中加入）

基本数字在不加后缀时，可以被解读为任何取值范围足够的类型。在没有更多类型信息的时候，会被解读为`int`。

在基本数字之后加上后缀可以指定其被解读的类型。`u`对应`uint`，`l`对应`long`，`ul`或`lu`对应`ulong`。后缀大小写均可。

|与C/C++的区别|
|-|
|`unsigned`被类型名中的前缀`u`所代替。|
|不支持8进制字面值。|
|`short`、`int`、`long`分别被固定为16、32、64位。在C/C++中其为16、16/32、32位。|
|8位类型被称作`byte`。|
|不再需要`long long`。|

## 浮点数

浮点数使用科学计数法进行表达。其中有的以2为底，有的以10为底。

|C#风格名称|.NET全名|描述|底数|有效数字|指数范围|
|-|-|-|-|-|-|
|float|System.Single|单精度(32位)浮点数|2|23位2进制(约7.2位10进制)|-128~127|
|double|System.Double|双精度(64位)浮点数|2|52位2进制(约15.9位10进制)|-1024~1023|
|decimal|System.Decimal|长十进制(128位)浮点数|10|96位2进制(约28.9位10进制)|0~28|

IEEE 754标准为`float`和`double`类型规定了几个特殊值：正无穷大，负无穷大，和`NAN`(not a number)。

### 浮点类型的表达

基本浮点数值由`0~9`和小数点`.`组成。在不使用小数点时，可以使用与整数相同的进制前缀。分隔符与整数一样可用。

一个浮点数值在有小数点（否则不会被当作浮点）且无后缀时，会被解读为`double`。（与整数不同，不加后缀并不能被解读为其它类型）

在整数值和浮点数值之后加上浮点后缀都可以将其指定为浮点类型。`d`对应`double`，`f`对应`float`，`m`对应`decimal`。同样大小写均可。

特殊值的表达方式为：

```csharp
float.PositiveInfinity
float.NegativeInfinity
float.Nan
```

将上段代码中`float`替换为`double`即可得到`double`类型的相应特殊值。

> 3个特殊值都是`float`及`double`类型中的常量成员。它们的构建方式实际上是分别将1、-1、0除以0。这也是IEEE 754标准规定的运算规则之一。

|与C/C++的区别|
|-|
|不加后缀的浮点数值不能被解读为`float`。|
|没有`long double`(x86扩展80位浮点数)。|

## 逻辑类型

逻辑类型，又被称作布尔类型，用于表达单一的*是否*概念。

|C#风格名称|.NET全名|
|-|-|
|bool|System.Boolean|

`bool`类型的值有`true`和`false`，分别代表**是**和**否**的概念。

|与C/C++的区别|
|-|
|`bool`是基本类型，但不允许与数字互相转换。|

## 字符类型

字符类型将字符按一定编码方式储存并表示。.NET所使用的编码方式是UTF-16 LE。

|C#风格名称|.NET全名|描述|
|-|-|-|
|char|System.Char|一个UTF-16编码位。其通常是一个字符，但也有可能是一个长字符(Unicode编码在U+FFFF之后)的一半。|
|string|System.String|一个用UTF-16 LE编码的字符串。|

### 字符类型的表达

由单引号对包含的单个字符即为一个`char`类型的量，如`'A'`，`'字'`。

由双引号对包含的字符串即为一个`string`类型的量，如`"Hello, world!"`，`"字符串"`。

> 在输入中文时，请注意不要使用中文输入法输入单引号和双引号。

有一些特殊字符不能被使用：
- 单引号与双引号字符本身。然而在单引号对中使用双信号，或在双引号对中使用单引号是允许的
- 反斜杠(`\`)
- 制表符(键盘上的`Tab`键，不能使用的原因通常是按下之不一定会输入真正的`Tab`字符，而是被替换为若干个空格)
- 换行符，即两个引号必须处于同一行内
- 其它带有*控制*含义的字符，比如`Backspace`。此类字符通常不能用文本表达。

若要表达不可使用的字符，需要通过**转义序列**来表达。转义序列为一个由`\`开头的序列，可被解析为一个UTF-16编码位（一个`char`的长度）。每当解析一个完整的转义序列之后，编译器才会将下一个`\`当作转义序列的开头字符。

|`\`后的序列|转义序列含义|
|-|-|
|'|`'`本身|
|"|`"`本身|
|\\|`\`本身|
|n|换行符LF (ASCII字符10)|
|r|回车符CR (ASCII字符13)|
|t|制表符Tab (ASCII字符9)|
|0|"空"字符NULL (ASCII字符0)|
|a|蜂鸣器字符 (ASCII字符7)|
|b|退格字符Backspace (ASCII字符8)|
|f|换页符 (ASCII字符12)|
|v|垂直制表符Vertical Tab (ASCII字符11)|
|x后跟1~4位数字|一个由该数字表达的16位Unicode字符。|
|u后跟4位数字|一个由该数字表达的16位Unicode字符，不足4位时必须在前面填0。|

> `"\n"`为Unix系统的换行符标准(LF)，`"\r\n"`为Windows系统的换行符标准(CRLF)。.NET标准库内部可以将其都作为换行显示，但与文件和其它程序交互时需要注意区分。

在表达含有大量`\`、`"`或换行的字符串时，可以使用**原义字符串**。原义字符串在字符串值的开头加上一个`@`字符，并使两个双引号内部的解析规则发生如下改变：
- `\`字符不再引发转义序列，而是被当作一个普通的字符
- 两个连续的双引号`""`不会使字符串结束，而是被视为一个双引号
- 换行现在被允许，换行符会被记录在字符串中

以下为字符串值的一些示例（`//`右侧为其含义）：

```csharp
"abc"   // abc
"ab\nc" // ab
        // c
"ab\\c" // ab\c
@"ab\c" // ab\c
@"ab
\c"     //ab
        //\c
```

|与C/C++的区别|
|-|
|`char`为16位，而不是8位，对应C++中的`wchar_t`。|
|`""`会被解析为标准库中的`string`，不像C++为了兼容性需要作为`const char*`。|
|不支持转义序列中的8进制、10进制序列，只支持16进制。|
|`\n`在Windows下不会被解析为CRLF，会按原样作为LF。|

## 在命令行中输出值

使用`Console.WriteLine`可以在程序的命令行窗口中输出一个值。

```csharp
Console.WriteLine(1);
Console.WriteLine(1.0);
Console.WriteLine(true);
Console.WriteLine('\x61')
Console.WriteLine(@"Hello, \");
Console.ReadKey();
```

结尾的`Console.ReadKey`可以让命令行窗口不立即关闭。
